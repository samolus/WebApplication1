@model IEnumerable<WebApplication1.Models.compagny>
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

   @foreach (var item in Model)
   {
    <p>
        @item.name
    </p>
    <p>
        <a href="\Compagny/Details/@item.id" rel="stylesheet" media="all" >Details </a>
        <input class="btn" onclick="javascript:myFunction()" type="submit" value="Delete "name="Delete" />

<script>
function myFunction() {
    var r = confirm("Are you sure ?");
    if (r==true)
        {
        var http =new   XMLHttpRequest();
        var url = "\Compagny/Delete/@item.id";
        http.open("POST", url, true);

        //Send the proper header information along with the request
        http.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

        http.onreadystatechange = function() {//Call a function when the state changes.
    if(http.readyState == 4 && http.status == 200) {
        location.reload();
        }
    }
    http.send();
    }

}
</script>
</p>


   }
    <p></p>
    <p><a href="\Compagny/create">Create Compagny ?</a></p>
    
    